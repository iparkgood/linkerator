(this.webpackJsonpstarting_code=this.webpackJsonpstarting_code||[]).push([[0],{121:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(11),o=n.n(c),i=n(16),u=n(10),s=n(153),l=n(157),p=n(7),f=n.n(p),m=n(12),d=n(46),h=n.n(d),b="/api";function v(){return(v=Object(m.a)(f.a.mark((function e(){var t,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.get(b+"/links");case 3:return t=e.sent,n=t.data,e.abrupt("return",n);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function j(e){return O.apply(this,arguments)}function O(){return(O=Object(m.a)(f.a.mark((function e(t){var n,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(b,"/links"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:t})});case 3:return n=e.sent,e.next=6,n.json();case 6:return a=e.sent,e.abrupt("return",a);case 10:throw e.prev=10,e.t0=e.catch(0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function k(e,t){return y.apply(this,arguments)}function y(){return(y=Object(m.a)(f.a.mark((function e(t,n){var a,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(b,"/links/").concat(t),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:n})});case 3:return a=e.sent,e.next=6,a.json();case 6:return r=e.sent,e.abrupt("return",r);case 10:throw e.prev=10,e.t0=e.catch(0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function E(e){return g.apply(this,arguments)}function g(){return(g=Object(m.a)(f.a.mark((function e(t){var n,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(b,"/links/").concat(t),{method:"DELETE",headers:{"Content-Type":"application/json"}});case 3:return n=e.sent,e.next=6,n.json();case 6:return a=e.sent,e.abrupt("return",a);case 10:throw e.prev=10,e.t0=e.catch(0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function x(e){return C.apply(this,arguments)}function C(){return(C=Object(m.a)(f.a.mark((function e(t){var n,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(b,"/links/").concat(t,"/count"),{method:"PATCH",headers:{"Content-Type":"application/json"}});case 3:return n=e.sent,e.next=6,n.json();case 6:return a=e.sent,e.abrupt("return",a);case 10:throw e.prev=10,e.t0=e.catch(0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function w(e,t){return S.apply(this,arguments)}function S(){return(S=Object(m.a)(f.a.mark((function e(t,n){var a,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("/api","/tags/").concat(t),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tag:n})});case 3:return a=e.sent,e.next=6,a.json();case 6:return r=e.sent,e.abrupt("return",r);case 10:throw e.prev=10,e.t0=e.catch(0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function T(e,t){return L.apply(this,arguments)}function L(){return(L=Object(m.a)(f.a.mark((function e(t,n){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.post("/api/comments",{linkId:t,comment:n});case 3:return a=e.sent,e.abrupt("return",a);case 7:e.prev=7,e.t0=e.catch(0),console.log("Trouble sending comment to the backEnd"),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}var H=function(){var e=Object(a.useState)(!1),t=Object(i.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){(function(){return v.apply(this,arguments)})().then((function(e){return function(e){return e.map((function(e){return Object(u.a)(Object(u.a)({},e),{},{isHidden:!1})}))}(e)})).then((function(e){c(e)})).catch((function(e){console.error(e)}))}),[]),r.a.createElement("div",{className:"App"},r.a.createElement(P,{setLinks:c}),r.a.createElement(s.a,null,r.a.createElement(ne,{setLinks:c}),r.a.createElement(l.a,{style:{marginTop:"8px"},container:!0,spacing:3},n&&n.map((function(e){return e.isHidden?"":r.a.createElement(l.a,{item:!0,xs:12,md:6,key:e.id},r.a.createElement(Z,{link:e,setLinks:c}))})))))},N=n(21),D=n(159),I=n(160),A=n(168),B=n(123),R=n(158),z=n(13),J=Object(R.a)((function(e){return{flex:{display:"flex",justifyContent:"space-between"},searchBar:{position:"relative",borderRadius:"5px",backgroundColor:Object(z.b)("rgb(0,0,0)",.15),paddingLeft:"8px"},searchInput:{color:"inherit"}}})),P=function(e){var t=e.setLinks,n=J();return r.a.createElement(D.a,{position:"sticky"},r.a.createElement(I.a,{className:n.flex},r.a.createElement("h1",null,"The Great Linkerator"),r.a.createElement("div",{className:n.searchBar},r.a.createElement(A.a,{onChange:function(e){var n=e.target.value.trim().toLowerCase();t(""===n?function(e){return e.map((function(e){return Object(u.a)(Object(u.a)({},e),{},{isHidden:!1})}))}:function(e){return e.map((function(e){return e.url.substring(8).toLowerCase().startsWith(n)?Object(u.a)(Object(u.a)({},e),{},{isHidden:!1}):Object(u.a)(Object(u.a)({},e),{},{isHidden:!0})}))})},className:n.searchInput,placeholder:"Search URL ..."})),r.a.createElement("div",{className:n.searchBar},r.a.createElement(A.a,{onChange:function(e){var n=e.target.value.trim().toLowerCase();t(""===n?function(e){return e.map((function(e){return Object(u.a)(Object(u.a)({},e),{},{isHidden:!1})}))}:function(e){return e.map((function(e){for(var t=e.tags,a=!1,r=0;r<t.length;r++){if(t[r].tag.toLowerCase().startsWith(n)){a=!0;break}}return a?Object(u.a)(Object(u.a)({},e),{},{isHidden:!1}):Object(u.a)(Object(u.a)({},e),{},{isHidden:!0})}))})},className:n.searchInput,placeholder:"Search Tags ..."})),r.a.createElement(B.a,{style:{color:"inherit"},onClick:function(e){t((function(e){return Object(N.a)(e).sort((function(e,t){return t.clickCount-e.clickCount}))}))}},"Sort by Clicks"),r.a.createElement(B.a,{style:{color:"inherit"},onClick:function(e){t((function(e){return e.map((function(e){return Object(u.a)(Object(u.a)({},e),{},{isHidden:!1})}))}))}},"Clear Filters")))},W=n(161),U=n(162),F=n(163),V=n(124),_=n(164),G=n(167),M=n(165),q=n(55),K=n.n(q),Q=n(49),X=n.n(Q),Y=Object(R.a)({tagButton:{marginLeft:"6px",marginRight:"6px",padding:0,borderRadius:"12px"}}),Z=function(e){var t=e.link,n=e.setLinks,c=Y(),o=Object(a.useState)(t.clickCount),s=Object(i.a)(o,2),l=s[0],p=s[1],d=Object(a.useState)(!1),h=Object(i.a)(d,2),b=h[0],v=h[1],j=Object(a.useState)(t.tags),O=Object(i.a)(j,2),k=O[0],y=O[1],g=Object(a.useState)(!1),C=Object(i.a)(g,2),w=C[0],S=C[1],L=Object(a.useState)(!1),H=Object(i.a)(L,2),D=H[0],I=H[1],A=Object(a.useState)(""),R=Object(i.a)(A,2),z=R[0],J=R[1],P=function(){var e=Object(m.a)(f.a.mark((function e(a){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T(t.id,z);case 3:n((function(e){return e.map((function(e){return e.id===t.id?Object(u.a)(Object(u.a)({},e),{},{comments:[].concat(Object(N.a)(e.comments),[{comment:z}])}):e}))})),J(""),I(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(m.a)(f.a.mark((function e(){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(t.id);case 2:n=e.sent,p(n.clickCount);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Q=function(){var e=Object(m.a)(f.a.mark((function e(){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E(t.id);case 2:a=e.sent,n((function(e){return e.filter((function(e){return a.id!==e.id}))}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Z=function(e){e.persist();var t=e.target.textContent.toLowerCase();n((function(e){return e.map((function(e){for(var n=e.tags,a=!1,r=0;r<n.length;r++){if(n[r].tag.toLowerCase().startsWith(t)){a=!0;break}}return a?Object(u.a)(Object(u.a)({},e),{},{isHidden:!1}):Object(u.a)(Object(u.a)({},e),{},{isHidden:!0})}))}))};return r.a.createElement(W.a,{elevation:2},r.a.createElement(U.a,{key:t.id},r.a.createElement(F.a,{href:t.url,target:"_blank",onClick:q,rel:"noopener noreferrer",variant:"h4"},t.url),r.a.createElement(V.a,{variant:"subtitle1",color:"textSecondary",gutterBottom:!0},l," clicks since ",t.sharedDate),r.a.createElement(V.a,{component:"div"},"Tags:",k.map((function(e){return r.a.createElement(B.a,{onClick:Z,variant:"contained",key:e.id,className:c.tagButton},e.tag)})),r.a.createElement(_.a,{onClick:function(){v(!b)}},r.a.createElement(K.a,{color:"secondary",fontSize:"small"}))),b&&r.a.createElement(ae,{setTags:y,linkId:t.id,setTagOpen:v}),r.a.createElement(V.a,{component:"div"},"Comment:",r.a.createElement(_.a,{onClick:function(){return I(!D)}},r.a.createElement(K.a,{color:"secondary",fontSize:"small"}))),D&&r.a.createElement(r.a.Fragment,null,r.a.createElement(G.a,{onChange:function(e){return J(e.target.value)},placeholder:"Add Comment"}),r.a.createElement(_.a,{color:"secondary",onClick:P},r.a.createElement(X.a,null))),r.a.createElement("ul",{style:{listStylePosition:"inside"}},t.comments.length>0&&t.comments.map((function(e){return r.a.createElement("li",{key:e.id},e.comment)})))),r.a.createElement(M.a,null,r.a.createElement(B.a,{variant:"outlined",color:"secondary",size:"small",onClick:function(){return S(!0)}},"Edit"),r.a.createElement(B.a,{variant:"outlined",color:"secondary",size:"small",onClick:Q},"Delete")),r.a.createElement(ue,{modalOpen:w,setModalOpen:S,link:t,setLinks:n,setCount:p}))},$=n(76),ee=n.n($),te=Object(R.a)({flex:{display:"flex",flexDirection:"row",justifyContent:"space-between",marginTop:"24px"},field:{flexGrow:1}}),ne=function(e){var t=e.setLinks,n=te(),c=Object(a.useState)(""),o=Object(i.a)(c,2),u=o[0],s=o[1],l=function(){var e=Object(m.a)(f.a.mark((function e(){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j(u);case 2:n=e.sent,t((function(e){return[].concat(Object(N.a)(e),[n])})),s("");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("form",{className:n.flex,noValidate:!0,autoComplete:"off",onSubmit:function(e){e.preventDefault()}},r.a.createElement(G.a,{className:n.field,label:"Add URL",variant:"outlined",value:u,onChange:function(e){return s(e.target.value)}}),r.a.createElement(_.a,{color:"secondary",onClick:l},r.a.createElement(ee.a,{color:"secondary",fontSize:"large"})))},ae=function(e){var t=e.setTags,n=e.linkId,c=e.setTagOpen,o=Object(a.useState)(""),u=Object(i.a)(o,2),s=u[0],l=u[1],p=function(){var e=Object(m.a)(f.a.mark((function e(){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w(n,s);case 2:a=e.sent,t((function(e){return[].concat(Object(N.a)(e),[a])})),c((function(e){return!e})),l("");case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){e.preventDefault()}},r.a.createElement(G.a,{label:"Add Tag",value:s,onChange:function(e){return l(e.target.value)}}),r.a.createElement(_.a,{color:"secondary",onClick:p},r.a.createElement(X.a,null)))},re=n(56),ce=n.n(re),oe=n(166),ie=Object(R.a)({flex:{display:"flex",flexDirection:"column"}});ce.a.setAppElement("#root");var ue=function(e){var t=e.modalOpen,n=e.setModalOpen,c=e.link,o=e.setLinks,u=e.setCount,s=ie(),l=Object(a.useState)(c.url),p=Object(i.a)(l,2),d=p[0],h=p[1],b=function(){var e=Object(m.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(c.id,d);case 2:t=e.sent,n(!1),o((function(e){var n=e.filter((function(e){return e.id!==t.id}));return[].concat(Object(N.a)(n),[t])})),u(t.clickCount);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(ce.a,{isOpen:t,style:{overlay:{backdropFilter:"blur(6px)"},content:{top:"50%",left:"50%",transform:"translate(-50%, -50%)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"480px",height:"fit-content"}}},r.a.createElement("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){e.preventDefault()},className:s.flex},r.a.createElement(G.a,{label:"Enter URL",value:d,onChange:function(e){return h(e.target.value)},fullWidth:!0}),r.a.createElement(oe.a,{variant:"contained",color:"secondary",style:{marginTop:"24px"},fullWidth:!0},r.a.createElement(B.a,{onClick:b},"Update"),r.a.createElement(B.a,{onClick:function(){return n(!1)}},"Close"))))};o.a.render(r.a.createElement(H,null),document.getElementById("root"))},85:function(e,t,n){e.exports=n(121)}},[[85,1,2]]]);
//# sourceMappingURL=main.50e0f957.chunk.js.map